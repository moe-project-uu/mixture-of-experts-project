"""Gating functions (softmax routing, top-k selection, hard routing, 
temperature scaling) are shared across Soft, Sparse, and Hard MoE heads"""